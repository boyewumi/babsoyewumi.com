import{v as L,f as C,w as P,l as W,k as T,i as H,j as G,x as R,y as k,z as w,o as M,A as V}from"./useFocusable-D3uVX1Jv.js";import{r as u,R as A}from"./iframe-BZ0nXjex.js";function I(...e){return e.length===1&&e[0]?e[0]:l=>{let r=!1;const o=e.map(t=>{const n=F(t,l);return r||(r=typeof n=="function"),n});if(r)return()=>{o.forEach((t,n)=>{typeof t=="function"?t():F(e[n],null)})}}}function F(e,l){if(typeof e=="function")return e(l);e!=null&&(e.current=l)}function S(){let e=u.useRef(new Map),l=u.useCallback((t,n,a,s)=>{let i=s?.once?(...f)=>{e.current.delete(a),a(...f)}:a;e.current.set(a,{type:n,eventTarget:t,fn:i,options:s}),t.addEventListener(n,i,s)},[]),r=u.useCallback((t,n,a,s)=>{var i;let f=((i=e.current.get(a))===null||i===void 0?void 0:i.fn)||a;t.removeEventListener(n,f,s),e.current.delete(a)},[]),o=u.useCallback(()=>{e.current.forEach((t,n)=>{r(t.eventTarget,t.type,n,t.options)})},[r]);return u.useEffect(()=>o,[o]),{addGlobalListener:l,removeGlobalListener:r,removeAllGlobalListeners:o}}function N(e){const l=u.useRef(null),r=u.useRef(void 0),o=u.useCallback(t=>{if(typeof e=="function"){const n=e,a=n(t);return()=>{typeof a=="function"?a():n(null)}}else if(e)return e.current=t,()=>{e.current=null}},[e]);return u.useMemo(()=>({get current(){return l.current},set current(t){l.current=t,r.current&&(r.current(),r.current=void 0),t!=null&&(r.current=o(t))}}),[o])}function D(e){let{isDisabled:l,onBlurWithin:r,onFocusWithin:o,onFocusWithinChange:t}=e,n=u.useRef({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:s}=S(),i=u.useCallback(c=>{c.currentTarget.contains(c.target)&&n.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(n.current.isFocusWithin=!1,s(),r&&r(c),t&&t(!1))},[r,t,n,s]),f=L(i),$=u.useCallback(c=>{if(!c.currentTarget.contains(c.target))return;const v=C(c.target),b=P(v);if(!n.current.isFocusWithin&&b===W(c.nativeEvent)){o&&o(c),t&&t(!0),n.current.isFocusWithin=!0,f(c);let g=c.currentTarget;a(v,"focus",d=>{if(n.current.isFocusWithin&&!T(g,d.target)){let p=new v.defaultView.FocusEvent("blur",{relatedTarget:d.target});H(p,g);let y=G(p);i(y)}},{capture:!0})}},[o,t,f,a,i]);return l?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:$,onBlur:i}}}let x=!1,h=0;function B(){x=!0,setTimeout(()=>{x=!1},50)}function E(e){e.pointerType==="touch"&&B()}function j(){if(!(typeof document>"u"))return h===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",E),h++,()=>{h--,!(h>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",E)}}function O(e){let{onHoverStart:l,onHoverChange:r,onHoverEnd:o,isDisabled:t}=e,[n,a]=u.useState(!1),s=u.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;u.useEffect(j,[]);let{addGlobalListener:i,removeAllGlobalListeners:f}=S(),{hoverProps:$,triggerHoverEnd:c}=u.useMemo(()=>{let v=(d,p)=>{if(s.pointerType=p,t||p==="touch"||s.isHovered||!d.currentTarget.contains(d.target))return;s.isHovered=!0;let y=d.currentTarget;s.target=y,i(C(d.target),"pointerover",m=>{s.isHovered&&s.target&&!T(s.target,m.target)&&b(m,m.pointerType)},{capture:!0}),l&&l({type:"hoverstart",target:y,pointerType:p}),r&&r(!0),a(!0)},b=(d,p)=>{let y=s.target;s.pointerType="",s.target=null,!(p==="touch"||!s.isHovered||!y)&&(s.isHovered=!1,f(),o&&o({type:"hoverend",target:y,pointerType:p}),r&&r(!1),a(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=d=>{x&&d.pointerType==="mouse"||v(d,d.pointerType)},g.onPointerLeave=d=>{!t&&d.currentTarget.contains(d.target)&&b(d,d.pointerType)}),{hoverProps:g,triggerHoverEnd:b}},[l,r,o,t,s,i,f]);return u.useEffect(()=>{t&&c({currentTarget:s.target},s.pointerType)},[t]),{hoverProps:$,isHovered:n}}function J(e={}){let{autoFocus:l=!1,isTextInput:r,within:o}=e,t=u.useRef({isFocused:!1,isFocusVisible:l||R()}),[n,a]=u.useState(!1),[s,i]=u.useState(()=>t.current.isFocused&&t.current.isFocusVisible),f=u.useCallback(()=>i(t.current.isFocused&&t.current.isFocusVisible),[]),$=u.useCallback(b=>{t.current.isFocused=b,a(b),f()},[f]);k(b=>{t.current.isFocusVisible=b,f()},[],{isTextInput:r});let{focusProps:c}=w({isDisabled:o,onFocusChange:$}),{focusWithinProps:v}=D({isDisabled:!o,onFocusWithinChange:$});return{isFocused:n,isFocusVisible:s,focusProps:o?v:c}}const _=Symbol("default");function Q({values:e,children:l}){for(let[r,o]of e)l=A.createElement(r.Provider,{value:o},l);return l}function U(e){let{className:l,style:r,children:o,defaultClassName:t,defaultChildren:n,defaultStyle:a,values:s}=e;return u.useMemo(()=>{let i,f,$;return typeof l=="function"?i=l({...s,defaultClassName:t}):i=l,typeof r=="function"?f=r({...s,defaultStyle:a||{}}):f=r,typeof o=="function"?$=o({...s,defaultChildren:n}):o==null?$=n:$=o,{className:i??t,style:f||a?{...a,...f}:void 0,children:$??n,"data-rac":""}},[l,r,o,t,n,a,s])}function q(e,l){let r=u.useContext(e);if(l===null)return null;if(r&&typeof r=="object"&&"slots"in r&&r.slots){let o=l||_;if(!r.slots[o]){let t=new Intl.ListFormat().format(Object.keys(r.slots).map(a=>`"${a}"`)),n=l?`Invalid slot "${l}".`:"A slot prop is required.";throw new Error(`${n} Valid slot names are ${t}.`)}return r.slots[o]}return r}function X(e,l,r){let o=q(r,e.slot)||{},{ref:t,...n}=o,a=N(u.useMemo(()=>I(l,t),[l,t])),s=M(n,e);return"style"in n&&n.style&&"style"in e&&e.style&&(typeof n.style=="function"||typeof e.style=="function"?s.style=i=>{let f=typeof n.style=="function"?n.style(i):n.style,$={...i.defaultStyle,...f},c=typeof e.style=="function"?e.style({...i,defaultStyle:$}):e.style;return{...$,...c}}:s.style={...n.style,...e.style}),[s,a]}function Y(e=!0){let[l,r]=u.useState(e),o=u.useRef(!1),t=u.useCallback(n=>{o.current=!0,r(!!n)},[]);return V(()=>{o.current||r(!1)},[]),[t,l]}function Z(e){const l=/^(data-.*)$/;let r={};for(const o in e)l.test(o)||(r[o]=e[o]);return r}export{S as $,X as a,O as b,J as c,U as d,q as e,Y as f,Z as g,Q as h};
